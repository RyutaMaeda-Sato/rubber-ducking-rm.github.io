<!DOCTYPE html><html lang="jp" class="__variable_f367f3 __variable_8c8862 __variable_6beb74 __variable_b784c9 __variable_d575de"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/40e00024f5837e45-s.p.ttf" as="font" crossorigin="" type="font/ttf"/><link rel="preload" href="/_next/static/media/8b506003a59c61f9-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/e1217b6673f6c7e5-s.p.ttf" as="font" crossorigin="" type="font/ttf"/><link rel="preload" href="/_next/static/media/e1a9950d37b1ef3e-s.p.ttf" as="font" crossorigin="" type="font/ttf"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/3add334ee59f67ac.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/cec3dd424af6abe7.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/31924b81bd2c71c2.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-bc770cab82f23445.js"/><script src="/_next/static/chunks/fd9d1056-601e117eccba8914.js" async=""></script><script src="/_next/static/chunks/117-6de7df87bc7c7a2a.js" async=""></script><script src="/_next/static/chunks/main-app-3c6d331f653aef5c.js" async=""></script><script src="/_next/static/chunks/972-f241a8fd644428c6.js" async=""></script><script src="/_next/static/chunks/70-f52c2ad284c6cd86.js" async=""></script><script src="/_next/static/chunks/app/layout-97d049cf0fc78146.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-acd6669982df1354.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-FWRP8962MB" as="script"/><title>Next.js でページネーションを実装する — createPageData 関数の設計と使い方 | ブログタイトル</title><meta name="description" content="記事数が増えても快適に閲覧できるよう、createPageData() 関数でページング情報を一元管理する方法を、動的ルーティングや Pagination コンポーネントとの連携を含めて解説する。"/><meta property="og:title" content="Next.js でページネーションを実装する — createPageData 関数の設計と使い方"/><meta property="og:description" content="記事数が増えても快適に閲覧できるよう、createPageData() 関数でページング情報を一元管理する方法を、動的ルーティングや Pagination コンポーネントとの連携を含めて解説する。"/><meta property="og:url" content="https://maemaemae.blog/posts/nextjs_20260223"/><meta property="og:image" content="https://maemaemae.blog/header.jpg"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2026-02-23"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Next.js でページネーションを実装する — createPageData 関数の設計と使い方"/><meta name="twitter:description" content="記事数が増えても快適に閲覧できるよう、createPageData() 関数でページング情報を一元管理する方法を、動的ルーティングや Pagination コンポーネントとの連携を含めて解説する。"/><meta name="twitter:image" content="https://maemaemae.blog/header.jpg"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script>(function(){try{var s=localStorage.getItem('darkMode');var p=window.matchMedia('(prefers-color-scheme: dark)').matches;if(s!==null?s==='true':p){document.documentElement.classList.add('dark');}}catch(e){}})();</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_f367f3"><header><div class="fixed top-0 left-0 w-full z-50 bg-green-700 dark:bg-gray-900 shadow-md border-b border-green-600/50 dark:border-gray-800" style="transform:translateY(0);transition:transform 300ms ease-in-out"><div class="max-w-7xl mx-auto"><div class="flex items-center justify-between px-6 md:px-8 h-20 md:h-24"><a class="group flex items-center gap-3 transition-opacity hover:opacity-80" href="/"><img alt="Maemaemae" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="rounded-full object-cover ring-2 ring-white/20 group-hover:ring-white/40 transition-all" style="color:transparent" src="/header.jpg"/><span class="text-xl md:text-2xl font-katyou text-[#fffef9] tracking-wide">Maemaemae</span></a><div class="flex items-center gap-2"><a href="https://x.com/maemaemae_rm" target="_blank" rel="noopener noreferrer" class="p-2.5 rounded-full hover:bg-white/10 transition-colors" aria-label="X (Twitter)"><img alt="" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/x-logo-white.png"/></a><button class="p-2.5 rounded-full text-[#fffef9] bg-white/5 hover:bg-white/15 ring-2 ring-transparent hover:ring-white/20 transition-all duration-200" aria-label="ダークモードに切り替え"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg></button></div></div></div></div></header><article class="min-h-screen"><div class="bg-gradient-to-b from-green-50/60 to-transparent dark:from-gray-900 dark:to-transparent"><div class="max-w-4xl mx-auto px-6 md:px-8 pt-28 md:pt-32 pb-10 md:pb-14"><h1 class="font-katyou text-4xl md:text-5xl lg:text-6xl text-gray-900 dark:text-white leading-tight mb-6">Next.js でページネーションを実装する — createPageData 関数の設計と使い方</h1><time class="text-base font-medium text-gray-600 dark:text-gray-400">2026-02-23</time></div></div><div class="max-w-4xl mx-auto px-6 md:px-8 pb-16 md:pb-24"><div id="post-content" class="prose prose-lg dark:prose-invert max-w-none prose-headings:font-katyou prose-headings:tracking-tight prose-h2:text-3xl prose-h2:mt-12 prose-h2:mb-6 prose-h3:text-2xl prose-h3:mt-10 prose-h3:mb-5 prose-h4:text-xl prose-h4:mt-8 prose-h4:mb-4 prose-p:leading-relaxed prose-p:mb-6 prose-li:my-2 prose-a:text-green-600 prose-a:no-underline prose-a:font-medium hover:prose-a:text-green-700 hover:prose-a:underline dark:prose-a:text-green-400 dark:hover:prose-a:text-green-300 prose-code:text-green-700 prose-code:bg-green-50 dark:prose-code:text-green-300 dark:prose-code:bg-green-900/20 prose-pre:bg-gray-900 dark:prose-pre:bg-gray-950 prose-img:rounded-lg prose-img:shadow-md prose-hr:my-12 prose-hr:border-gray-300 dark:prose-hr:border-gray-700 border-t border-gray-200 dark:border-gray-800 pt-8"><p>記事一覧を全件表示し続けると、記事数が増えるにつれてページの読み込みが重くなり、目当ての記事を探しにくくなる。
この記事では、<code>createPageData()</code> という小さなユーティリティ関数を使って、Next.js App Router のページネーションをシンプルに実装する方法を紹介する。</p>
<h2>なぜ createPageData 関数にまとめるのか</h2>
<p>ページネーションには毎回同じ計算が必要になる。</p>
<ul>
<li>総ページ数 (<code>Math.ceil(totalPostCount / POSTS_PER_PAGE)</code>)</li>
<li>表示開始インデックス (<code>(currentPage - 1) * POSTS_PER_PAGE</code>)</li>
<li>表示終了インデックス</li>
<li>ページ番号の配列 (<code>[1, 2, 3, ...]</code>)</li>
</ul>
<p>これらをページコンポーネントごとに書くと重複が生まれ、<code>POSTS_PER_PAGE</code> を変更したときに修正漏れが起きやすい。
<code>createPageData()</code> に切り出すことで、<strong>呼び出し側はページ番号と総件数を渡すだけ</strong>で済むようになる。</p>
<h2>型定義</h2>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/app/lib/types.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">PageData</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  currentPage<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  totalPages<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  start<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  end<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  pages<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4, 5]</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<h2>定数</h2>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/app/lib/constants.ts</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">POSTS_PER_PAGE</span> <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>
</span></code></pre>
<p>1 ページあたりの表示件数を定数化しておくことで、変更が 1 か所で完結する。</p>
<h2>createPageData 関数の実装</h2>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/app/lib/functions.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">POSTS_PER_PAGE</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./constants"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> PageData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./types"</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> createPageData <span class="token operator">=</span> <span class="token punctuation">(</span>
</span><span class="code-line">  currentPage<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
</span><span class="code-line">  totalPostCount<span class="token operator">:</span> <span class="token builtin">number</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token operator">:</span> PageData <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> totalPages <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>totalPostCount <span class="token operator">/</span> <span class="token constant">POSTS_PER_PAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> start <span class="token operator">=</span> <span class="token punctuation">(</span>currentPage <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token constant">POSTS_PER_PAGE</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> end <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token constant">POSTS_PER_PAGE</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> totalPages <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token number">1</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">    currentPage<span class="token punctuation">,</span>
</span><span class="code-line">    totalPages<span class="token punctuation">,</span>
</span><span class="code-line">    start<span class="token punctuation">,</span>
</span><span class="code-line">    end<span class="token punctuation">,</span>
</span><span class="code-line">    pages<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></code></pre>
<h3>各フィールドの役割</h3>

























<table><thead><tr><th>フィールド</th><th>使いどころ</th></tr></thead><tbody><tr><td><code>currentPage</code></td><td>Pagination コンポーネントにアクティブページを伝える</td></tr><tr><td><code>totalPages</code></td><td>Pagination コンポーネントの最終ページ判定に使う</td></tr><tr><td><code>start</code> / <code>end</code></td><td><code>posts.slice(start, end)</code> で表示する記事を切り出す</td></tr><tr><td><code>pages</code></td><td>ページ番号ボタンを生成する元配列</td></tr></tbody></table>
<h2>トップページ (1 ページ目固定) での使い方</h2>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/app/page.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createPageData<span class="token punctuation">,</span> getPostData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"./lib/functions"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> TopPagination <span class="token keyword">from</span> <span class="token string">"../components/Pagination"</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPostData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> pageData <span class="token operator">=</span> <span class="token function">createPageData</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> posts<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&#x3C;</span>main<span class="token operator">></span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span>div className<span class="token operator">=</span><span class="token string">"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"</span><span class="token operator">></span>
</span><span class="code-line">        <span class="token punctuation">{</span>posts<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>pageData<span class="token punctuation">.</span>start<span class="token punctuation">,</span> pageData<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>post<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
</span><span class="code-line">          <span class="token operator">&#x3C;</span>PostCard key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>slug<span class="token punctuation">}</span> post<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
</span><span class="code-line">        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span>TopPagination
</span><span class="code-line">        type<span class="token operator">=</span><span class="token string">"page"</span>
</span><span class="code-line">        pages<span class="token operator">=</span><span class="token punctuation">{</span>pageData<span class="token punctuation">.</span>pages<span class="token punctuation">}</span>
</span><span class="code-line">        currentPage<span class="token operator">=</span><span class="token punctuation">{</span>pageData<span class="token punctuation">.</span>currentPage<span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">/</span><span class="token operator">></span>
</span><span class="code-line">    <span class="token operator">&#x3C;</span><span class="token operator">/</span>main<span class="token operator">></span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h2>動的ルート (/page/[page]) での使い方</h2>
<p>2 ページ目以降は <code>/page/2</code>, <code>/page/3</code> ... の URL でアクセスできるようにする。
<code>generateStaticParams</code> で全ページ分の静的パスを生成しておくのが Next.js の <code>output: "export"</code> 環境では必須となる。</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/app/page/[page]/page.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">POSTS_PER_PAGE</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../lib/constants"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createPageData<span class="token punctuation">,</span> getPostData <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../../lib/functions"</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">Props</span> <span class="token operator">=</span> <span class="token punctuation">{</span> params<span class="token operator">:</span> <span class="token punctuation">{</span> page<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 静的ルートを全ページ分生成</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">generateStaticParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPostData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> totalPages <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>posts<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token constant">POSTS_PER_PAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> totalPages <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">    page<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span> params <span class="token punctuation">}</span><span class="token operator">:</span> Props<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPostData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> pageData <span class="token operator">=</span> <span class="token function">createPageData</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>page<span class="token punctuation">)</span><span class="token punctuation">,</span> posts<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&#x3C;</span>main<span class="token operator">></span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span>h1<span class="token operator">></span><span class="token punctuation">{</span>params<span class="token punctuation">.</span>page<span class="token punctuation">}</span> ページ目<span class="token operator">&#x3C;</span><span class="token operator">/</span>h1<span class="token operator">></span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span>div className<span class="token operator">=</span><span class="token string">"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"</span><span class="token operator">></span>
</span><span class="code-line">        <span class="token punctuation">{</span>posts<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>pageData<span class="token punctuation">.</span>start<span class="token punctuation">,</span> pageData<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>post<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
</span><span class="code-line">          <span class="token operator">&#x3C;</span>PostCard key<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">.</span>slug<span class="token punctuation">}</span> post<span class="token operator">=</span><span class="token punctuation">{</span>post<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
</span><span class="code-line">        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span><span class="token operator">/</span>div<span class="token operator">></span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span>TopPagination
</span><span class="code-line">        type<span class="token operator">=</span><span class="token string">"page"</span>
</span><span class="code-line">        pages<span class="token operator">=</span><span class="token punctuation">{</span>pageData<span class="token punctuation">.</span>pages<span class="token punctuation">}</span>
</span><span class="code-line">        currentPage<span class="token operator">=</span><span class="token punctuation">{</span>pageData<span class="token punctuation">.</span>currentPage<span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">/</span><span class="token operator">></span>
</span><span class="code-line">    <span class="token operator">&#x3C;</span><span class="token operator">/</span>main<span class="token operator">></span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h2>タグページでの再利用</h2>
<p>同じ <code>createPageData()</code> はタグ別一覧でもそのまま使える。
タグでフィルタした後の配列を <code>posts.length</code> として渡すだけで、タグごとの総ページ数が正しく計算される。</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/app/tags/[slug]/page.tsx (1 ページ目)</span>
</span><span class="code-line"><span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getTagsData</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>slug<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> pageData <span class="token operator">=</span> <span class="token function">createPageData</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> posts<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/app/tags/[slug]/[page]/page.tsx (2 ページ目以降)</span>
</span><span class="code-line"><span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getTagsData</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>slug<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">const</span> pageData <span class="token operator">=</span> <span class="token function">createPageData</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>page<span class="token punctuation">)</span><span class="token punctuation">,</span> posts<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<h2>Pagination コンポーネントの設計</h2>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// src/components/Pagination.tsx</span>
</span><span class="code-line"><span class="token string">"use client"</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"next/navigation"</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">PageProps</span> <span class="token punctuation">{</span>
</span><span class="code-line">  type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>      <span class="token comment">// "page" | "tags/React" など — URL の prefix として使う</span>
</span><span class="code-line">  pages<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>   <span class="token comment">// createPageData の pages をそのまま渡す</span>
</span><span class="code-line">  currentPage<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function-variable function">TopPagination</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">,</span> pages<span class="token punctuation">,</span> currentPage <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token operator">:</span> PageProps<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> totalPages <span class="token operator">=</span> pages<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> pageLimit <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// 一度に表示するページボタン数</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 現在ページを中心に表示範囲を計算</span>
</span><span class="code-line">  <span class="token keyword">let</span> startPage <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>currentPage <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>pageLimit <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> endPage <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>startPage <span class="token operator">+</span> pageLimit <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> totalPages<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>endPage <span class="token operator">-</span> startPage <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&#x3C;</span> pageLimit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    startPage <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>endPage <span class="token operator">-</span> pageLimit <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> paginationRange<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> startPage<span class="token punctuation">;</span> i <span class="token operator">&#x3C;=</span> endPage<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    paginationRange<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&#x3C;</span>nav className<span class="token operator">=</span><span class="token string">"flex items-center gap-2"</span><span class="token operator">></span>
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* 前へボタン */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span>button
</span><span class="code-line">        onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> currentPage <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&#x26;&#x26;</span> router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">type</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPage <span class="token operator">-</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">        disabled<span class="token operator">=</span><span class="token punctuation">{</span>currentPage <span class="token operator">&#x3C;=</span> <span class="token number">1</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">></span>
</span><span class="code-line">        <span class="token operator">&#x26;</span>lsaquo<span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* ページ番号ボタン */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">{</span>paginationRange<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">&#x3C;</span>button
</span><span class="code-line">          key<span class="token operator">=</span><span class="token punctuation">{</span>page<span class="token punctuation">}</span>
</span><span class="code-line">          onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">type</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>page<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">          aria<span class="token operator">-</span>current<span class="token operator">=</span><span class="token punctuation">{</span>page <span class="token operator">===</span> currentPage <span class="token operator">?</span> <span class="token string">"page"</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token operator">></span>
</span><span class="code-line">          <span class="token punctuation">{</span>page<span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* 次へボタン */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span>button
</span><span class="code-line">        onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> currentPage <span class="token operator">&#x3C;</span> totalPages <span class="token operator">&#x26;&#x26;</span> router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">type</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>currentPage <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">        disabled<span class="token operator">=</span><span class="token punctuation">{</span>currentPage <span class="token operator">>=</span> totalPages<span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">></span>
</span><span class="code-line">        <span class="token operator">&#x26;</span>rsaquo<span class="token punctuation">;</span>
</span><span class="code-line">      <span class="token operator">&#x3C;</span><span class="token operator">/</span>button<span class="token operator">></span>
</span><span class="code-line">    <span class="token operator">&#x3C;</span><span class="token operator">/</span>nav<span class="token operator">></span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> TopPagination<span class="token punctuation">;</span>
</span></code></pre>
<p><code>type</code> に <code>"page"</code> を渡せば <code>/page/2</code> へ、<code>"tags/React"</code> を渡せば <code>/tags/React/2</code> へと汎用的に遷移できる設計にしている。</p>
<h2>ハマりやすいポイント</h2>
<h3>1. <code>params.page</code> は文字列として受け取られる</h3>
<p>URL パラメータはすべて文字列になるため、<code>createPageData()</code> に渡す前に <code>Number()</code> で変換しないと計算が狂う。</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// NG: params.page は "2" という文字列</span>
</span><span class="code-line"><span class="token keyword">const</span> pageData <span class="token operator">=</span> <span class="token function">createPageData</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>page<span class="token punctuation">,</span> posts<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// OK</span>
</span><span class="code-line"><span class="token keyword">const</span> pageData <span class="token operator">=</span> <span class="token function">createPageData</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>page<span class="token punctuation">)</span><span class="token punctuation">,</span> posts<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<h3>2. output: "export" では generateStaticParams が必須</h3>
<p><code>next.config.js</code> に <code>output: "export"</code> を設定している場合、動的ルートは <code>generateStaticParams</code> で事前に全パスを列挙しないとビルドエラーになる。
記事を追加するたびにページ数が変わるため、<code>generateStaticParams</code> 内でも <code>getPostData()</code> を呼んで動的に計算するのが正しい。</p>
<pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">generateStaticParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPostData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> totalPages <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>posts<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token constant">POSTS_PER_PAGE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token punctuation">{</span> length<span class="token operator">:</span> totalPages <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> page<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h3>3. トップページ (/) は /page/1 と別管理になる</h3>
<p><code>/</code> と <code>/page/1</code> は別ルートとして存在するため、<code>Pagination</code> の前へボタンで 1 ページ目に戻ると <code>/page/1</code> に遷移する。
SEO 上の重複を避けたい場合は <code>&#x3C;link rel="canonical"></code> で正規化するか、<code>/page/1</code> へのアクセスを <code>/</code> にリダイレクトするミドルウェアを追加することを検討する。</p>
<h2>まとめ</h2>
<ul>
<li><code>createPageData(currentPage, totalPostCount)</code> に現在ページと総件数を渡すだけで、<code>start</code> / <code>end</code> / <code>pages</code> をまとめて取得できる</li>
<li><code>posts.slice(pageData.start, pageData.end)</code> で表示する記事を切り出す</li>
<li>タグページなどでも同じ関数を再利用でき、変更は <code>POSTS_PER_PAGE</code> の 1 か所で済む</li>
<li><code>output: "export"</code> 環境では <code>generateStaticParams</code> でページ数分のルートを事前生成することを忘れずに</li>
</ul></div><div class="mt-16 pt-10 border-t border-gray-200 dark:border-gray-800"><p class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-4">タグ</p><div class="flex flex-wrap gap-2.5"><a class="inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors duration-200 shadow-sm" href="/tags/Next.js">Next.js</a><a class="inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors duration-200 shadow-sm" href="/tags/TypeScript">TypeScript</a><a class="inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors duration-200 shadow-sm" href="/tags/フロントエンド">フロントエンド</a></div></div></div></article><script src="/_next/static/chunks/webpack-bc770cab82f23445.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/40e00024f5837e45-s.p.ttf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/ttf\"}]\n2:HL[\"/_next/static/media/8b506003a59c61f9-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/e1217b6673f6c7e5-s.p.ttf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/ttf\"}]\n4:HL[\"/_next/static/media/e1a9950d37b1ef3e-s.p.ttf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/ttf\"}]\n5:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n6:HL[\"/_next/static/css/3add334ee59f67ac.css\",\"style\"]\n7:HL[\"/_next/static/css/cec3dd424af6abe7.css\",\"style\"]\n8:HL[\"/_next/static/css/31924b81bd2c71c2.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"9:I[2846,[],\"\"]\nc:I[4707,[],\"\"]\ne:I[6423,[],\"\"]\nf:I[4888,[\"972\",\"static/chunks/972-f241a8fd644428c6.js\",\"70\",\"static/chunks/70-f52c2ad284c6cd86.js\",\"185\",\"static/chunks/app/layout-97d049cf0fc78146.js\"],\"GoogleAnalytics\"]\n10:I[6806,[\"972\",\"static/chunks/972-f241a8fd644428c6.js\",\"70\",\"static/chunks/70-f52c2ad284c6cd86.js\",\"185\",\"static/chunks/app/layout-97d049cf0fc78146.js\"],\"default\"]\n11:I[7213,[\"972\",\"static/chunks/972-f241a8fd644428c6.js\",\"70\",\"static/chunks/70-f52c2ad284c6cd86.js\",\"185\",\"static/chunks/app/layout-97d049cf0fc78146.js\"],\"default\"]\n12:I[2972,[\"972\",\"static/chunks/972-f241a8fd644428c6.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-acd6669982df1354.js\"],\"\"]\n13:I[5878,[\"972\",\"static/chunks/972-f241a8fd644428c6.js\",\"70\",\"static/chunks/70-f52c2ad284c6cd86.js\",\"185\",\"static/chunks/app/layout-97d049cf0fc78146.js\"],\"Image\"]\n14:I[2374,[\"972\",\"static/chunks/972-f241a8fd644428c6.js\",\"70\",\"static/chunks/70-f52c2ad284c6cd86.js\",\"185\",\"static/chunks/app/layout-97d049cf0fc78146.js\"],\"default\"]\n16:I[1060,[],\"\"]\nd:[\"slug\",\"nextjs_20260223\",\"d\"]\n17:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L9\",null,{\"buildId\":\"0oJGNGFmzz_LorUWHIimP\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"posts\",\"nextjs_20260223\"],\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"nextjs_20260223\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"nextjs_20260223\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"nextjs_20260223\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$La\",\"$Lb\",null],null],null]},[null,[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$d\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3add334ee59f67ac.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/cec3dd424af6abe7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/31924b81bd2c71c2.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"jp\",\"className\":\"__variable_f367f3 __variable_8c8862 __variable_6beb74 __variable_b784c9 __variable_d575de\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"(function(){try{var s=localStorage.getItem('darkMode');var p=window.matchMedia('(prefers-color-scheme: dark)').matches;if(s!==null?s==='true':p){document.documentElement.classList.add('dark');}}catch(e){}})();\"}}],[\"$\",\"$Lf\",null,{\"gaId\":\"G-FWRP8962MB\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_f367f3\",\"children\":[\"$\",\"$L10\",null,{\"children\":[[\"$\",\"header\",null,{\"children\":[\"$\",\"$L11\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"fixed top-0 left-0 w-full z-50 bg-green-700 dark:bg-gray-900 shadow-md border-b border-green-600/50 dark:border-gray-800\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-7xl mx-auto\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between px-6 md:px-8 h-20 md:h-24\",\"children\":[[\"$\",\"$L12\",null,{\"href\":\"/\",\"className\":\"group flex items-center gap-3 transition-opacity hover:opacity-80\",\"children\":[[\"$\",\"$L13\",null,{\"alt\":\"Maemaemae\",\"src\":\"/header.jpg\",\"width\":44,\"height\":44,\"className\":\"rounded-full object-cover ring-2 ring-white/20 group-hover:ring-white/40 transition-all\"}],[\"$\",\"span\",null,{\"className\":\"text-xl md:text-2xl font-katyou text-[#fffef9] tracking-wide\",\"children\":\"Maemaemae\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2\",\"children\":[[\"$\",\"a\",null,{\"href\":\"https://x.com/maemaemae_rm\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"p-2.5 rounded-full hover:bg-white/10 transition-colors\",\"aria-label\":\"X (Twitter)\",\"children\":[\"$\",\"$L13\",null,{\"src\":\"/x-logo-white.png\",\"width\":24,\"height\":24,\"alt\":\"\"}]}],[\"$\",\"$L14\",null,{}]]}]]}]}]}]}]}],[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}]]}]}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L15\"],\"globalErrorComponent\":\"$16\",\"missingSlots\":\"$W17\"}]\n"])</script><script>self.__next_f.push([1,"19:I[7426,[\"972\",\"static/chunks/972-f241a8fd644428c6.js\",\"333\",\"static/chunks/app/posts/%5Bslug%5D/page-acd6669982df1354.js\"],\"default\"]\n18:Tb35e,"])</script><script>self.__next_f.push([1,"\u003cp\u003e記事一覧を全件表示し続けると、記事数が増えるにつれてページの読み込みが重くなり、目当ての記事を探しにくくなる。\r\nこの記事では、\u003ccode\u003ecreatePageData()\u003c/code\u003e という小さなユーティリティ関数を使って、Next.js App Router のページネーションをシンプルに実装する方法を紹介する。\u003c/p\u003e\n\u003ch2\u003eなぜ createPageData 関数にまとめるのか\u003c/h2\u003e\n\u003cp\u003eページネーションには毎回同じ計算が必要になる。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e総ページ数 (\u003ccode\u003eMath.ceil(totalPostCount / POSTS_PER_PAGE)\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e表示開始インデックス (\u003ccode\u003e(currentPage - 1) * POSTS_PER_PAGE\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003e表示終了インデックス\u003c/li\u003e\n\u003cli\u003eページ番号の配列 (\u003ccode\u003e[1, 2, 3, ...]\u003c/code\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eこれらをページコンポーネントごとに書くと重複が生まれ、\u003ccode\u003ePOSTS_PER_PAGE\u003c/code\u003e を変更したときに修正漏れが起きやすい。\r\n\u003ccode\u003ecreatePageData()\u003c/code\u003e に切り出すことで、\u003cstrong\u003e呼び出し側はページ番号と総件数を渡すだけ\u003c/strong\u003eで済むようになる。\u003c/p\u003e\n\u003ch2\u003e型定義\u003c/h2\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// src/app/lib/types.ts\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003ePageData\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  currentPage\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  totalPages\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  start\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  end\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  pages\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// [1, 2, 3, 4, 5]\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e定数\u003c/h2\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// src/app/lib/constants.ts\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePOSTS_PER_PAGE\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e15\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e1 ページあたりの表示件数を定数化しておくことで、変更が 1 か所で完結する。\u003c/p\u003e\n\u003ch2\u003ecreatePageData 関数の実装\u003c/h2\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// src/app/lib/functions.ts\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePOSTS_PER_PAGE\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"./constants\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e PageData \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"./types\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e createPageData \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  currentPage\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  totalPostCount\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e PageData \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e totalPages \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eceil\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003etotalPostCount \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePOSTS_PER_PAGE\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e start \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecurrentPage \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e*\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePOSTS_PER_PAGE\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e end \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e start \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePOSTS_PER_PAGE\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e pages \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token builtin\"\u003eArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efrom\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e length\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e totalPages \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e_\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    currentPage\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    totalPages\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    start\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    end\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    pages\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e各フィールドの役割\u003c/h3\u003e\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003ctable\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eフィールド\u003c/th\u003e\u003cth\u003e使いどころ\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003ecurrentPage\u003c/code\u003e\u003c/td\u003e\u003ctd\u003ePagination コンポーネントにアクティブページを伝える\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003etotalPages\u003c/code\u003e\u003c/td\u003e\u003ctd\u003ePagination コンポーネントの最終ページ判定に使う\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003estart\u003c/code\u003e / \u003ccode\u003eend\u003c/code\u003e\u003c/td\u003e\u003ctd\u003e\u003ccode\u003eposts.slice(start, end)\u003c/code\u003e で表示する記事を切り出す\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e\u003ccode\u003epages\u003c/code\u003e\u003c/td\u003e\u003ctd\u003eページ番号ボタンを生成する元配列\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\n\u003ch2\u003eトップページ (1 ページ目固定) での使い方\u003c/h2\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// src/app/page.tsx\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e createPageData\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e getPostData \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"./lib/functions\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e TopPagination \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"../components/Pagination\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003eHome\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e posts \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e pageData \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003ecreatePageData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e posts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003emain\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ediv className\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eposts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eslice\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epageData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003estart\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e pageData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eend\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epost\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e          \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePostCard key\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epost\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eslug\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e post\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epost\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ediv\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eTopPagination\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        type\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"page\"\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        pages\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epageData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epages\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        currentPage\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epageData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecurrentPage\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003emain\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e動的ルート (/page/[page]) での使い方\u003c/h2\u003e\n\u003cp\u003e2 ページ目以降は \u003ccode\u003e/page/2\u003c/code\u003e, \u003ccode\u003e/page/3\u003c/code\u003e ... の URL でアクセスできるようにする。\r\n\u003ccode\u003egenerateStaticParams\u003c/code\u003e で全ページ分の静的パスを生成しておくのが Next.js の \u003ccode\u003eoutput: \"export\"\u003c/code\u003e 環境では必須となる。\u003c/p\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// src/app/page/[page]/page.tsx\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePOSTS_PER_PAGE\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"../../lib/constants\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e createPageData\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e getPostData \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"../../lib/functions\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eProps\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e params\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e page\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// 静的ルートを全ページ分生成\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003egenerateStaticParams\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e posts \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e totalPages \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eceil\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eposts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePOSTS_PER_PAGE\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token builtin\"\u003eArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efrom\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e length\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e totalPages \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e_\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    page\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ei \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003ePage\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e params \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e Props\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e posts \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e pageData \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003ecreatePageData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003eNumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eparams\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e posts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003emain\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eh1\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eparams\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e ページ目\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003eh1\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ediv className\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003eposts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eslice\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epageData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003estart\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e pageData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eend\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epost\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e          \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ePostCard key\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epost\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eslug\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e post\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epost\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ediv\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eTopPagination\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        type\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"page\"\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        pages\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epageData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epages\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        currentPage\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epageData\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ecurrentPage\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003emain\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eタグページでの再利用\u003c/h2\u003e\n\u003cp\u003e同じ \u003ccode\u003ecreatePageData()\u003c/code\u003e はタグ別一覧でもそのまま使える。\r\nタグでフィルタした後の配列を \u003ccode\u003eposts.length\u003c/code\u003e として渡すだけで、タグごとの総ページ数が正しく計算される。\u003c/p\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// src/app/tags/[slug]/page.tsx (1 ページ目)\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e posts \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003egetTagsData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eparams\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eslug\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e pageData \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003ecreatePageData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e posts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// src/app/tags/[slug]/[page]/page.tsx (2 ページ目以降)\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e posts \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003egetTagsData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eparams\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eslug\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e pageData \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003ecreatePageData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003eNumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eparams\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e posts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003ePagination コンポーネントの設計\u003c/h2\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// src/components/Pagination.tsx\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token string\"\u003e\"use client\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e useRouter \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"next/navigation\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"token class-name\"\u003ePageProps\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  type\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003estring\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e      \u003cspan class=\"token comment\"\u003e// \"page\" | \"tags/React\" など — URL の prefix として使う\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  pages\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e   \u003cspan class=\"token comment\"\u003e// createPageData の pages をそのまま渡す\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  currentPage\u003cspan class=\"token operator\"\u003e?\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"token function-variable function\"\u003eTopPagination\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e type\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e pages\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e currentPage \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e PageProps\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e router \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003euseRouter\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e totalPages \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e pages\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e pageLimit \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e5\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e \u003cspan class=\"token comment\"\u003e// 一度に表示するページボタン数\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token comment\"\u003e// 現在ページを中心に表示範囲を計算\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e startPage \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecurrentPage \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efloor\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epageLimit \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e endPage \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estartPage \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e pageLimit \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e totalPages\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eendPage \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e startPage \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e pageLimit\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    startPage \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emax\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eendPage \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e pageLimit \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e paginationRange\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token builtin\"\u003enumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e startPage\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i \u003cspan class=\"token operator\"\u003e\u0026#x3C;=\u003c/span\u003e endPage\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e i\u003cspan class=\"token operator\"\u003e++\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    paginationRange\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ei\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003enav className\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"flex items-center gap-2\"\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token comment\"\u003e/* 前へボタン */\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ebutton\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        onClick\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e currentPage \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e router\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e/\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e/\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ecurrentPage \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        disabled\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003ecurrentPage \u003cspan class=\"token operator\"\u003e\u0026#x3C;=\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token operator\"\u003e\u0026#x26;\u003c/span\u003elsaquo\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ebutton\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token comment\"\u003e/* ページ番号ボタン */\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epaginationRange\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003emap\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003epage\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ebutton\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e          key\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epage\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e          onClick\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e router\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e/\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e/\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003epage\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e          aria\u003cspan class=\"token operator\"\u003e-\u003c/span\u003ecurrent\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epage \u003cspan class=\"token operator\"\u003e===\u003c/span\u003e currentPage \u003cspan class=\"token operator\"\u003e?\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"page\"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eundefined\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e          \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003epage\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ebutton\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token comment\"\u003e/* 次へボタン */\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003ebutton\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        onClick\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e currentPage \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e totalPages \u003cspan class=\"token operator\"\u003e\u0026#x26;\u0026#x26;\u003c/span\u003e router\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epush\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token string\"\u003e/\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003e\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token string\"\u003e/\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ecurrentPage \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        disabled\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003ecurrentPage \u003cspan class=\"token operator\"\u003e\u003e=\u003c/span\u003e totalPages\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e        \u003cspan class=\"token operator\"\u003e\u0026#x26;\u003c/span\u003ersaquo\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e      \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003ebutton\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e    \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token operator\"\u003e/\u003c/span\u003enav\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003edefault\u003c/span\u003e TopPagination\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003etype\u003c/code\u003e に \u003ccode\u003e\"page\"\u003c/code\u003e を渡せば \u003ccode\u003e/page/2\u003c/code\u003e へ、\u003ccode\u003e\"tags/React\"\u003c/code\u003e を渡せば \u003ccode\u003e/tags/React/2\u003c/code\u003e へと汎用的に遷移できる設計にしている。\u003c/p\u003e\n\u003ch2\u003eハマりやすいポイント\u003c/h2\u003e\n\u003ch3\u003e1. \u003ccode\u003eparams.page\u003c/code\u003e は文字列として受け取られる\u003c/h3\u003e\n\u003cp\u003eURL パラメータはすべて文字列になるため、\u003ccode\u003ecreatePageData()\u003c/code\u003e に渡す前に \u003ccode\u003eNumber()\u003c/code\u003e で変換しないと計算が狂う。\u003c/p\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// NG: params.page は \"2\" という文字列\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e pageData \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003ecreatePageData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eparams\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e posts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token comment\"\u003e// OK\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e pageData \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003ecreatePageData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\"\u003eNumber\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eparams\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003epage\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e posts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e2. output: \"export\" では generateStaticParams が必須\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003enext.config.js\u003c/code\u003e に \u003ccode\u003eoutput: \"export\"\u003c/code\u003e を設定している場合、動的ルートは \u003ccode\u003egenerateStaticParams\u003c/code\u003e で事前に全パスを列挙しないとビルドエラーになる。\r\n記事を追加するたびにページ数が変わるため、\u003ccode\u003egenerateStaticParams\u003c/code\u003e 内でも \u003ccode\u003egetPostData()\u003c/code\u003e を呼んで動的に計算するのが正しい。\u003c/p\u003e\n\u003cpre class=\"language-typescript\"\u003e\u003ccode class=\"language-typescript code-highlight\"\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"token keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"token function\"\u003egenerateStaticParams\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e posts \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"token function\"\u003egetPostData\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003econst\u003c/span\u003e totalPages \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e Math\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eceil\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eposts\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elength \u003cspan class=\"token operator\"\u003e/\u003c/span\u003e \u003cspan class=\"token constant\"\u003ePOSTS_PER_PAGE\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e  \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token builtin\"\u003eArray\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efrom\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e length\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e totalPages \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e_\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e i\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e page\u003cspan class=\"token operator\"\u003e:\u003c/span\u003e \u003cspan class=\"token template-string\"\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003cspan class=\"token interpolation\"\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e${\u003c/span\u003ei \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token interpolation-punctuation punctuation\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token template-punctuation string\"\u003e`\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\r\n\u003c/span\u003e\u003cspan class=\"code-line\"\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003e3. トップページ (/) は /page/1 と別管理になる\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003e/\u003c/code\u003e と \u003ccode\u003e/page/1\u003c/code\u003e は別ルートとして存在するため、\u003ccode\u003ePagination\u003c/code\u003e の前へボタンで 1 ページ目に戻ると \u003ccode\u003e/page/1\u003c/code\u003e に遷移する。\r\nSEO 上の重複を避けたい場合は \u003ccode\u003e\u0026#x3C;link rel=\"canonical\"\u003e\u003c/code\u003e で正規化するか、\u003ccode\u003e/page/1\u003c/code\u003e へのアクセスを \u003ccode\u003e/\u003c/code\u003e にリダイレクトするミドルウェアを追加することを検討する。\u003c/p\u003e\n\u003ch2\u003eまとめ\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ecreatePageData(currentPage, totalPostCount)\u003c/code\u003e に現在ページと総件数を渡すだけで、\u003ccode\u003estart\u003c/code\u003e / \u003ccode\u003eend\u003c/code\u003e / \u003ccode\u003epages\u003c/code\u003e をまとめて取得できる\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eposts.slice(pageData.start, pageData.end)\u003c/code\u003e で表示する記事を切り出す\u003c/li\u003e\n\u003cli\u003eタグページなどでも同じ関数を再利用でき、変更は \u003ccode\u003ePOSTS_PER_PAGE\u003c/code\u003e の 1 か所で済む\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eoutput: \"export\"\u003c/code\u003e 環境では \u003ccode\u003egenerateStaticParams\u003c/code\u003e でページ数分のルートを事前生成することを忘れずに\u003c/li\u003e\n\u003c/ul\u003e"])</script><script>self.__next_f.push([1,"b:[\"$\",\"article\",null,{\"className\":\"min-h-screen\",\"children\":[[\"$\",\"div\",null,{\"className\":\"bg-gradient-to-b from-green-50/60 to-transparent dark:from-gray-900 dark:to-transparent\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-4xl mx-auto px-6 md:px-8 pt-28 md:pt-32 pb-10 md:pb-14\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"font-katyou text-4xl md:text-5xl lg:text-6xl text-gray-900 dark:text-white leading-tight mb-6\",\"children\":\"Next.js でページネーションを実装する — createPageData 関数の設計と使い方\"}],[\"$\",\"time\",null,{\"className\":\"text-base font-medium text-gray-600 dark:text-gray-400\",\"children\":\"2026-02-23\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"max-w-4xl mx-auto px-6 md:px-8 pb-16 md:pb-24\",\"children\":[[\"$\",\"div\",null,{\"id\":\"post-content\",\"className\":\"prose prose-lg dark:prose-invert max-w-none prose-headings:font-katyou prose-headings:tracking-tight prose-h2:text-3xl prose-h2:mt-12 prose-h2:mb-6 prose-h3:text-2xl prose-h3:mt-10 prose-h3:mb-5 prose-h4:text-xl prose-h4:mt-8 prose-h4:mb-4 prose-p:leading-relaxed prose-p:mb-6 prose-li:my-2 prose-a:text-green-600 prose-a:no-underline prose-a:font-medium hover:prose-a:text-green-700 hover:prose-a:underline dark:prose-a:text-green-400 dark:hover:prose-a:text-green-300 prose-code:text-green-700 prose-code:bg-green-50 dark:prose-code:text-green-300 dark:prose-code:bg-green-900/20 prose-pre:bg-gray-900 dark:prose-pre:bg-gray-950 prose-img:rounded-lg prose-img:shadow-md prose-hr:my-12 prose-hr:border-gray-300 dark:prose-hr:border-gray-700 border-t border-gray-200 dark:border-gray-800 pt-8\",\"dangerouslySetInnerHTML\":{\"__html\":\"$18\"}}],[\"$\",\"$L19\",null,{}],[\"$\",\"div\",null,{\"className\":\"mt-16 pt-10 border-t border-gray-200 dark:border-gray-800\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-4\",\"children\":\"タグ\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2.5\",\"children\":[[\"$\",\"$L12\",\"Next.js\",{\"href\":\"/tags/Next.js\",\"className\":\"inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors duration-200 shadow-sm\",\"children\":\"Next.js\"}],[\"$\",\"$L12\",\"TypeScript\",{\"href\":\"/tags/TypeScript\",\"className\":\"inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors duration-200 shadow-sm\",\"children\":\"TypeScript\"}],[\"$\",\"$L12\",\"フロントエンド\",{\"href\":\"/tags/フロントエンド\",\"className\":\"inline-flex items-center px-4 py-1.5 rounded-full text-sm font-medium bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800/50 transition-colors duration-200 shadow-sm\",\"children\":\"フロントエンド\"}]]}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"15:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Next.js でページネーションを実装する — createPageData 関数の設計と使い方 | ブログタイトル\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"記事数が増えても快適に閲覧できるよう、createPageData() 関数でページング情報を一元管理する方法を、動的ルーティングや Pagination コンポーネントとの連携を含めて解説する。\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Next.js でページネーションを実装する — createPageData 関数の設計と使い方\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"記事数が増えても快適に閲覧できるよう、createPageData() 関数でページング情報を一元管理する方法を、動的ルーティングや Pagination コンポーネントとの連携を含めて解説する。\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://maemaemae.blog/posts/nextjs_20260223\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image\",\"content\":\"https://maemaemae.blog/header.jpg\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"9\",{\"property\":\"article:published_time\",\"content\":\"2026-02-23\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:title\",\"content\":\"Next.js でページネーションを実装する — createPageData 関数の設計と使い方\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:description\",\"content\":\"記事数が増えても快適に閲覧できるよう、createPageData() 関数でページング情報を一元管理する方法を、動的ルーティングや Pagination コンポーネントとの連携を含めて解説する。\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:image\",\"content\":\"https://maemaemae.blog/header.jpg\"}],[\"$\",\"link\",\"14\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"15\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script></body></html>